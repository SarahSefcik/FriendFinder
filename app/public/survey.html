<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>FriendFinder</title>

  <!-- CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>
</head>
<body>

  <div class="container">

    <!-- Questions -->
    <h3><strong>Question 1</strong></h3>
    <h4>How's your credit card spending?</h4>
    <select class="chosen-select" id="q1">
      <option value=""></option>
      <option value="1">1 (I've never spent a dime on it)</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5 (I've maxed that puppy out)</option>
    </select>

    <br>
    <br>

    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">
      <i class="fa fa-check-circle" aria-hidden="true"></i> Submit
    </button>
    <hr>
    <footer class="footer">
      <div class="container">
        <p>
          <a href="/api/friends">Here is a list of all Friends</a>
        </p>
      </div>
    </footer>
  </div>

<!-- JS -->
<script type="text/javascript">
  var config = {
    ".chosen-select": {},
    ".chosen-select-deselect": {
      allow_single_deselect: true
    },
    ".chosen-select-no-single": {
      disable_search_threshold: 10
    },
    ".chosen-select-no-results": {
      no_results_text: "Oops, nothing found!"
    },
    ".chosen-select-width": {
      width: "95%"
    }
  };

  for (var selector in config) {
    $(selector).chosen(config[selector]);
  }

  // Handles form submission
  $("#submit").on("click", function (event) {
    event.preventDefault();

    function validateForm() {
      var isValid = true;
      $(".form-control").each(function () {
        if ($(this).val() === "") {
          isValid = false;
        }
      });

      $(".chosen-select").each(function () {

        if ($(this).val() === "") {
          isValid = false;
        }
      });
      return isValid;
    }
    
    // All required fields must be filled
    if (validateForm()) {
      var userData = {
        name: $("#name").val(),
        photo: $("#photo").val(),
        scores: [
          $("#q1").val(),
      ]
      };

      // AJAX Post call

      // Show results
    }
  });
</script>

</body>
</html>